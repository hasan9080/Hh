---
title: सीग्रुप v2 के बारे में
content_type: concept
weight: 50
---

<!-- overview -->

Linux पर, {{< glossary_tooltip text="control groups" term_id="cgroup" >}}
प्रक्रियाओं को आवंटित संसाधनों को सीमित करें।

{{< glossary_tooltip text="क्यूबलेट" term_id="kubelet" >}} और
अंतर्निहित कंटेनर रनटाइम को लागू करने के लिए cgroups के साथ इंटरफ़ेस करने की आवश्यकता है
[फली और कंटेनरों के लिए संसाधन प्रबंधन](/docs/concepts/configuration/manage-resources-containers/) जो
सीपीयू/मेमोरी अनुरोध और कंटेनरीकृत वर्कलोड के लिए सीमाएं शामिल हैं।

Linux में cgroups के दो संस्करण हैं: cgroup v1 और cgroup v2। सीग्रुप v2 है
`cgroup` API की नई पीढ़ी।

<!-- body -->


## सीग्रुप v2 क्या है? {#cgroup-v2}
{{< feature-state for_k8s_version="v1.25" state="stable" >}}

cgroup v2 Linux `cgroup` API का अगला संस्करण है। cgroup v2 एक प्रदान करता है
उन्नत संसाधन प्रबंधन के साथ एकीकृत नियंत्रण प्रणाली
क्षमताओं।

cgroup v2, cgroup v1 की तुलना में कई सुधार प्रदान करता है, जैसे कि निम्नलिखित:

- एपीआई में एकल एकीकृत पदानुक्रम डिजाइन
- कंटेनरों के लिए सुरक्षित उप-वृक्ष प्रतिनिधिमंडल
- नई सुविधाएँ जैसे [प्रेशर स्टाल सूचना](https://www.kernel.org/doc/html/latest/accounting/psi.html)
- कई संसाधनों में संवर्धित संसाधन आवंटन प्रबंधन और अलगाव
  - विभिन्न प्रकार के मेमोरी आवंटन (नेटवर्क मेमोरी, कर्नेल मेमोरी, आदि) के लिए एकीकृत लेखा
  - गैर-तत्काल संसाधन परिवर्तनों के लिए लेखांकन जैसे कि पेज कैश राइट बैक

कुछ कुबेरनेट सुविधाएँ उन्नत संसाधन के लिए विशेष रूप से cgroup v2 का उपयोग करती हैं
प्रबंधन और अलगाव। उदाहरण के लिए, द
[MemoryQoS](/blog/2021/11/26/qos-memory-resources/) फीचर मेमोरी क्यूओएस में सुधार करता है
और cgroup v2 आदिम पर निर्भर करता है।

## सीग्रुप v2 का उपयोग करना {#using-cgroupv2}

Cgroup v2 का उपयोग करने का अनुशंसित तरीका एक लिनक्स वितरण का उपयोग करना है
डिफ़ॉल्ट रूप से cgroup v2 को सक्षम और उपयोग करता है।

यह जांचने के लिए कि क्या आपका वितरण cgroup v2 का उपयोग करता है, [लिनक्स नोड्स पर cgroup संस्करण की पहचान करें](#check-cgroup-version) देखें।

### आवश्यकताएं {#requirements}

cgroup v2 की निम्नलिखित आवश्यकताएँ हैं:

* OS वितरण cgroup v2 को सक्षम करता है
* लिनक्स कर्नेल संस्करण 5.8 या बाद का है
* कंटेनर रनटाइम cgroup v2 का समर्थन करता है। उदाहरण के लिए:
  * [कंटेनरड](https://containerd.io/) v1.4 और बाद में
  * [cri-o](https://cri-o.io/) v1.20 और बाद में
* क्यूबलेट और कंटेनर रनटाइम को [systemd cgroup ड्राइवर](/docs/setup/production-environment/container-runtimes#systemd-cgroup-driver) का उपयोग करने के लिए कॉन्फ़िगर किया गया है

### Linux वितरण cgroup v2 समर्थन {#linux-distribution-cgroup-v2-support}

cgroup v2 का उपयोग करने वाले Linux वितरणों की सूची के लिए, [cgroup v2 दस्तावेज़ीकरण](https://github.com/opencontainers/runc/blob/main/docs/cgroup-v2.md) देखें

<!-- the list should be kept in sync with https://github.com/opencontainers/runc/blob/main/docs/cgroup-v2.md -->
* कंटेनर अनुकूलित ओएस (M97 के बाद से)
* उबंटू (21.10 से, 22.04+ अनुशंसित)
* डेबियन जीएनयू/लिनक्स (डेबियन 11 बुल्सआई के बाद से)
* फेडोरा (31 से)
* आर्क लिनक्स (अप्रैल 2021 से)
* आरएचईएल और आरएचईएल जैसे वितरण (9 से)

यह जांचने के लिए कि क्या आपका वितरण cgroup v2 का उपयोग कर रहा है, अपने वितरण का संदर्भ लें
प्रलेखन या निर्देशों का पालन करें [लिनक्स नोड्स पर cgroup संस्करण की पहचान करें](#check-cgroup-version)।

आप संशोधित करके अपने Linux वितरण पर मैन्युअल रूप से cgroup v2 को भी सक्षम कर सकते हैं
कर्नेल cmdline बूट तर्क। यदि आपका वितरण GRUB का उपयोग करता है,
`systemd.unified_cgroup_hierarchy=1` को `GRUB_CMDLINE_LINUX` में जोड़ा जाना चाहिए
`/etc/default/grub` के अंतर्गत, उसके बाद `sudo update-grub`। हालांकि
अनुशंसित दृष्टिकोण एक वितरण का उपयोग करना है जो पहले से ही cgroup v2 by को सक्षम करता है
गलती करना।

### cgroup v2 में माइग्रेट करना {#migrating-cgroupv2}

cgroup v2 में माइग्रेट करने के लिए, सुनिश्चित करें कि आप [आवश्यकताओं](#requirements) को पूरा करते हैं, फिर अपग्रेड करें
एक कर्नेल संस्करण के लिए जो डिफ़ॉल्ट रूप से cgroup v2 को सक्षम करता है।

क्यूबलेट स्वचालित रूप से पता लगाता है कि OS cgroup v2 पर चल रहा है और
बिना किसी अतिरिक्त कॉन्फ़िगरेशन की आवश्यकता के तदनुसार कार्य करता है।

उपयोगकर्ता के अनुभव में कोई ध्यान देने योग्य अंतर नहीं होना चाहिए
cgroup v2 में स्विच करना, जब तक कि उपयोगकर्ता cgroup फ़ाइल सिस्टम तक नहीं पहुँच रहे हों
सीधे, या तो नोड पर या कंटेनर के भीतर से।

cgroup v2 cgroup v1 की तुलना में एक अलग एपीआई का उपयोग करता है, इसलिए यदि कोई हो
अनुप्रयोग जो सीधे cgroup फाइल सिस्टम तक पहुँचते हैं, उन्हें होना चाहिए
cgroup v2 का समर्थन करने वाले नए संस्करणों में अपडेट किया गया। उदाहरण के लिए:

* कुछ तृतीय-पक्ष निगरानी और सुरक्षा एजेंट cgroup फ़ाइल सिस्टम पर निर्भर हो सकते हैं।
 इन एजेंटों को उन संस्करणों में अद्यतन करें जो cgroup v2 का समर्थन करते हैं।
* अगर आप [cAdvisor](https://github.com/google/cadvisor) को स्टैंड-अलोन के रूप में चलाते हैं
 पॉड्स और कंटेनरों की निगरानी के लिए डेमॉनसेट, इसे v0.43.0 या बाद के संस्करण में अपडेट करें।
* यदि आप JDK का उपयोग करते हैं, तो JDK 11.0.16 और बाद में या JDK 15 और बाद के संस्करण का उपयोग करना पसंद करें, जो [पूरी तरह से cgroup v2 का समर्थन करता है](https://bugs.openjdk.org/browse/JDK-8230305)।

## लिनक्स नोड्स पर cgroup संस्करण की पहचान करें  {#check-cgroup-version}

cgroup संस्करण उपयोग किए जा रहे Linux वितरण पर निर्भर करता है और
OS पर कॉन्फ़िगर किया गया डिफ़ॉल्ट cgroup संस्करण। यह जांचने के लिए कि आपका कौन सा cgroup संस्करण है
वितरण उपयोग करता है, `stat -fc %T /sys/fs/cgroup/` कमांड चालू करें
नोड:

```shell
stat -fc %T /sys/fs/cgroup/
```

Cgroup v2 के लिए, आउटपुट `cgroup2fs` है।

Cgroup v1 के लिए, आउटपुट `tmpfs.` है

## {{% heading "whatsnext" %}}

- [cgroups] के बारे में और जानें (https://man7.org/linux/man-pages/man7/cgroups.7.html)
- [कंटेनर रनटाइम] के बारे में अधिक जानें (/docs/concepts/architecture/cri)
- [cgroup ड्राइवर्स] के बारे में अधिक जानें (/docs/setup/production-environment/container-runtimes#cgroup-drivers)
