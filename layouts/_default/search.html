<!doctype html>
<html lang="{{ .Site.Language.Lang }}" class="{{.Params.class}} no-js">
  <head>
    {{ partial "head.html" . }}
  </head>
  <body class="td-search {{- if ne (lower .Params.cid) "" -}}{{- printf " cid-%s" (lower .Params.cid) -}}{{- end -}}">
    <header>
      {{ partial "navbar.html" . }}
      {{ block "announcement" . }}
        {{ partial "announcement.html" . }}
      {{ end }}
      {{ block "hero" . }}
        <section class="header-hero filler">
        </section>
         {{ block "hero-more" . }}{{ end }}
      {{ end }}
    </header>
    <div class="td-outer">
      <main role="main" class="td-main">
        <section class="row td-search-result">
          <div class="col-12 col-md-4 offset-md-2">
            <div id="search"></div>
          </div>
        </section>
      </main>
    </div>
    {{ partial "footer.html" . }}
    {{ partialCached "scripts.html" . }}
    <script src="/pagefind/pagefind-ui.js"></script>
    <script>
      const queryString = window.location.search;
      const urlParams = new URLSearchParams(queryString);
      const searchString = urlParams.get("q");
      window.addEventListener('DOMContentLoaded', (event) => {
        pagefind = new PagefindUI({ element: "#search", showSubResults: true, showImages: false, resetStyles: false });
        if (searchString) {
          pagefind.triggerSearch(searchString);
        }
        waitForElm(".pagefind-ui__search-input").then((thing) => {
          thing.focus();
        });
      });
    </script>
  </body>
</html>
